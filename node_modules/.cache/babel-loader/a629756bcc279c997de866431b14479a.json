{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction makeChecker(pubkeyTypes) {\n  return checkPubkey;\n\n  function checkPubkey(keyVal) {\n    let pubkey;\n\n    if (pubkeyTypes.includes(keyVal.key[0])) {\n      pubkey = keyVal.key.slice(1);\n\n      if (!(pubkey.length === 33 || pubkey.length === 65) || ![2, 3, 4].includes(pubkey[0])) {\n        throw new Error('Format Error: invalid pubkey in key 0x' + keyVal.key.toString('hex'));\n      }\n    }\n\n    return pubkey;\n  }\n}\n\nexports.makeChecker = makeChecker;","map":{"version":3,"sources":["/Users/wiki/code/filecoin/private.storage/node_modules/bip174/src/lib/converter/shared/checkPubkey.js"],"names":["Object","defineProperty","exports","value","makeChecker","pubkeyTypes","checkPubkey","keyVal","pubkey","includes","key","slice","length","Error","toString"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,SAASC,WAAT,CAAqBC,WAArB,EAAkC;AAChC,SAAOC,WAAP;;AACA,WAASA,WAAT,CAAqBC,MAArB,EAA6B;AAC3B,QAAIC,MAAJ;;AACA,QAAIH,WAAW,CAACI,QAAZ,CAAqBF,MAAM,CAACG,GAAP,CAAW,CAAX,CAArB,CAAJ,EAAyC;AACvCF,MAAAA,MAAM,GAAGD,MAAM,CAACG,GAAP,CAAWC,KAAX,CAAiB,CAAjB,CAAT;;AACA,UACE,EAAEH,MAAM,CAACI,MAAP,KAAkB,EAAlB,IAAwBJ,MAAM,CAACI,MAAP,KAAkB,EAA5C,KACA,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAUH,QAAV,CAAmBD,MAAM,CAAC,CAAD,CAAzB,CAFH,EAGE;AACA,cAAM,IAAIK,KAAJ,CACJ,2CAA2CN,MAAM,CAACG,GAAP,CAAWI,QAAX,CAAoB,KAApB,CADvC,CAAN;AAGD;AACF;;AACD,WAAON,MAAP;AACD;AACF;;AACDN,OAAO,CAACE,WAAR,GAAsBA,WAAtB","sourcesContent":["'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeChecker(pubkeyTypes) {\n  return checkPubkey;\n  function checkPubkey(keyVal) {\n    let pubkey;\n    if (pubkeyTypes.includes(keyVal.key[0])) {\n      pubkey = keyVal.key.slice(1);\n      if (\n        !(pubkey.length === 33 || pubkey.length === 65) ||\n        ![2, 3, 4].includes(pubkey[0])\n      ) {\n        throw new Error(\n          'Format Error: invalid pubkey in key 0x' + keyVal.key.toString('hex'),\n        );\n      }\n    }\n    return pubkey;\n  }\n}\nexports.makeChecker = makeChecker;\n"]},"metadata":{},"sourceType":"script"}