{"ast":null,"code":"import { Context } from '@textile/context';\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn) {\n  var module = {\n    exports: {}\n  };\n  return fn(module, module.exports), module.exports;\n}\n\nvar grpcWebClient_umd = createCommonjsModule(function (module, exports) {\n  !function (e, t) {\n    module.exports = t();\n  }(commonjsGlobal, function () {\n    return function (e) {\n      var t = {};\n\n      function n(r) {\n        if (t[r]) return t[r].exports;\n        var o = t[r] = {\n          i: r,\n          l: !1,\n          exports: {}\n        };\n        return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n      }\n\n      return n.m = e, n.c = t, n.d = function (e, t, r) {\n        n.o(e, t) || Object.defineProperty(e, t, {\n          enumerable: !0,\n          get: r\n        });\n      }, n.r = function (e) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n          value: \"Module\"\n        }), Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        });\n      }, n.t = function (e, t) {\n        if (1 & t && (e = n(e)), 8 & t) return e;\n        if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n        var r = Object.create(null);\n        if (n.r(r), Object.defineProperty(r, \"default\", {\n          enumerable: !0,\n          value: e\n        }), 2 & t && \"string\" != typeof e) for (var o in e) n.d(r, o, function (t) {\n          return e[t];\n        }.bind(null, o));\n        return r;\n      }, n.n = function (e) {\n        var t = e && e.__esModule ? function () {\n          return e.default;\n        } : function () {\n          return e;\n        };\n        return n.d(t, \"a\", t), t;\n      }, n.o = function (e, t) {\n        return Object.prototype.hasOwnProperty.call(e, t);\n      }, n.p = \"\", n(n.s = 11);\n    }([function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var r = n(4);\n      t.Metadata = r.BrowserHeaders;\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      }), t.debug = function () {\n        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n        console.debug ? console.debug.apply(null, e) : console.log.apply(null, e);\n      };\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var r = null;\n\n      t.default = function (e) {\n        null === r ? (r = [e], setTimeout(function () {\n          !function e() {\n            if (r) {\n              var t = r;\n              r = null;\n\n              for (var n = 0; n < t.length; n++) try {\n                t[n]();\n              } catch (s) {\n                null === r && (r = [], setTimeout(function () {\n                  e();\n                }, 0));\n\n                for (var o = t.length - 1; o > n; o--) r.unshift(t[o]);\n\n                throw s;\n              }\n            }\n          }();\n        }, 0)) : r.push(e);\n      };\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var r = n(0),\n          o = n(9),\n          s = n(10),\n          i = n(1),\n          a = n(2),\n          u = n(5),\n          d = n(15);\n\n      t.client = function (e, t) {\n        return new c(e, t);\n      };\n\n      var c = function () {\n        function e(e, t) {\n          this.started = !1, this.sentFirstMessage = !1, this.completed = !1, this.closed = !1, this.finishedSending = !1, this.onHeadersCallbacks = [], this.onMessageCallbacks = [], this.onEndCallbacks = [], this.parser = new o.ChunkParser(), this.methodDefinition = e, this.props = t, this.createTransport();\n        }\n\n        return e.prototype.createTransport = function () {\n          var e = this.props.host + \"/\" + this.methodDefinition.service.serviceName + \"/\" + this.methodDefinition.methodName,\n              t = {\n            methodDefinition: this.methodDefinition,\n            debug: this.props.debug || !1,\n            url: e,\n            onHeaders: this.onTransportHeaders.bind(this),\n            onChunk: this.onTransportChunk.bind(this),\n            onEnd: this.onTransportEnd.bind(this)\n          };\n          this.props.transport ? this.transport = this.props.transport(t) : this.transport = u.makeDefaultTransport(t);\n        }, e.prototype.onTransportHeaders = function (e, t) {\n          if (this.props.debug && i.debug(\"onHeaders\", e, t), this.closed) this.props.debug && i.debug(\"grpc.onHeaders received after request was closed - ignoring\");else if (0 === t) ;else {\n            this.responseHeaders = e, this.props.debug && i.debug(\"onHeaders.responseHeaders\", JSON.stringify(this.responseHeaders, null, 2));\n            var n = p(e);\n            this.props.debug && i.debug(\"onHeaders.gRPCStatus\", n);\n            var r = n && n >= 0 ? n : s.httpStatusToCode(t);\n            this.props.debug && i.debug(\"onHeaders.code\", r);\n            var o = e.get(\"grpc-message\") || [];\n\n            if (this.props.debug && i.debug(\"onHeaders.gRPCMessage\", o), this.rawOnHeaders(e), r !== s.Code.OK) {\n              var a = this.decodeGRPCStatus(o[0]);\n              this.rawOnError(r, a, e);\n            }\n          }\n        }, e.prototype.onTransportChunk = function (e) {\n          var t = this;\n          if (this.closed) this.props.debug && i.debug(\"grpc.onChunk received after request was closed - ignoring\");else {\n            var n = [];\n\n            try {\n              n = this.parser.parse(e);\n            } catch (e) {\n              return this.props.debug && i.debug(\"onChunk.parsing error\", e, e.message), void this.rawOnError(s.Code.Internal, \"parsing error: \" + e.message);\n            }\n\n            n.forEach(function (e) {\n              if (e.chunkType === o.ChunkType.MESSAGE) {\n                var n = t.methodDefinition.responseType.deserializeBinary(e.data);\n                t.rawOnMessage(n);\n              } else e.chunkType === o.ChunkType.TRAILERS && (t.responseHeaders ? (t.responseTrailers = new r.Metadata(e.trailers), t.props.debug && i.debug(\"onChunk.trailers\", t.responseTrailers)) : (t.responseHeaders = new r.Metadata(e.trailers), t.rawOnHeaders(t.responseHeaders)));\n            });\n          }\n        }, e.prototype.onTransportEnd = function () {\n          if (this.props.debug && i.debug(\"grpc.onEnd\"), this.closed) this.props.debug && i.debug(\"grpc.onEnd received after request was closed - ignoring\");else if (void 0 !== this.responseTrailers) {\n            var e = p(this.responseTrailers);\n\n            if (null !== e) {\n              var t = this.responseTrailers.get(\"grpc-message\"),\n                  n = this.decodeGRPCStatus(t[0]);\n              this.rawOnEnd(e, n, this.responseTrailers);\n            } else this.rawOnError(s.Code.Internal, \"Response closed without grpc-status (Trailers provided)\");\n          } else {\n            if (void 0 === this.responseHeaders) return void this.rawOnError(s.Code.Unknown, \"Response closed without headers\");\n            var r = p(this.responseHeaders),\n                o = this.responseHeaders.get(\"grpc-message\");\n            if (this.props.debug && i.debug(\"grpc.headers only response \", r, o), null === r) return void this.rawOnEnd(s.Code.Unknown, \"Response closed without grpc-status (Headers only)\", this.responseHeaders);\n            var a = this.decodeGRPCStatus(o[0]);\n            this.rawOnEnd(r, a, this.responseHeaders);\n          }\n        }, e.prototype.decodeGRPCStatus = function (e) {\n          if (!e) return \"\";\n\n          try {\n            return decodeURIComponent(e);\n          } catch (t) {\n            return e;\n          }\n        }, e.prototype.rawOnEnd = function (e, t, n) {\n          var r = this;\n          this.props.debug && i.debug(\"rawOnEnd\", e, t, n), this.completed || (this.completed = !0, this.onEndCallbacks.forEach(function (o) {\n            a.default(function () {\n              r.closed || o(e, t, n);\n            });\n          }));\n        }, e.prototype.rawOnHeaders = function (e) {\n          this.props.debug && i.debug(\"rawOnHeaders\", e), this.completed || this.onHeadersCallbacks.forEach(function (t) {\n            a.default(function () {\n              t(e);\n            });\n          });\n        }, e.prototype.rawOnError = function (e, t, n) {\n          var o = this;\n          void 0 === n && (n = new r.Metadata()), this.props.debug && i.debug(\"rawOnError\", e, t), this.completed || (this.completed = !0, this.onEndCallbacks.forEach(function (r) {\n            a.default(function () {\n              o.closed || r(e, t, n);\n            });\n          }));\n        }, e.prototype.rawOnMessage = function (e) {\n          var t = this;\n          this.props.debug && i.debug(\"rawOnMessage\", e.toObject()), this.completed || this.closed || this.onMessageCallbacks.forEach(function (n) {\n            a.default(function () {\n              t.closed || n(e);\n            });\n          });\n        }, e.prototype.onHeaders = function (e) {\n          this.onHeadersCallbacks.push(e);\n        }, e.prototype.onMessage = function (e) {\n          this.onMessageCallbacks.push(e);\n        }, e.prototype.onEnd = function (e) {\n          this.onEndCallbacks.push(e);\n        }, e.prototype.start = function (e) {\n          if (this.started) throw new Error(\"Client already started - cannot .start()\");\n          this.started = !0;\n          var t = new r.Metadata(e || {});\n          t.set(\"content-type\", \"application/grpc-web+proto\"), t.set(\"x-grpc-web\", \"1\"), this.transport.start(t);\n        }, e.prototype.send = function (e) {\n          if (!this.started) throw new Error(\"Client not started - .start() must be called before .send()\");\n          if (this.closed) throw new Error(\"Client already closed - cannot .send()\");\n          if (this.finishedSending) throw new Error(\"Client already finished sending - cannot .send()\");\n          if (!this.methodDefinition.requestStream && this.sentFirstMessage) throw new Error(\"Message already sent for non-client-streaming method - cannot .send()\");\n          this.sentFirstMessage = !0;\n          var t = d.frameRequest(e);\n          this.transport.sendMessage(t);\n        }, e.prototype.finishSend = function () {\n          if (!this.started) throw new Error(\"Client not started - .finishSend() must be called before .close()\");\n          if (this.closed) throw new Error(\"Client already closed - cannot .send()\");\n          if (this.finishedSending) throw new Error(\"Client already finished sending - cannot .finishSend()\");\n          this.finishedSending = !0, this.transport.finishSend();\n        }, e.prototype.close = function () {\n          if (!this.started) throw new Error(\"Client not started - .start() must be called before .close()\");\n          if (this.closed) throw new Error(\"Client already closed - cannot .close()\");\n          this.closed = !0, this.props.debug && i.debug(\"request.abort aborting request\"), this.transport.cancel();\n        }, e;\n      }();\n\n      function p(e) {\n        var t = e.get(\"grpc-status\") || [];\n        if (t.length > 0) try {\n          var n = t[0];\n          return parseInt(n, 10);\n        } catch (e) {\n          return null;\n        }\n        return null;\n      }\n    }, function (e, t, n) {\n      var r;\n      r = function () {\n        return function (e) {\n          var t = {};\n\n          function n(r) {\n            if (t[r]) return t[r].exports;\n            var o = t[r] = {\n              i: r,\n              l: !1,\n              exports: {}\n            };\n            return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n          }\n\n          return n.m = e, n.c = t, n.i = function (e) {\n            return e;\n          }, n.d = function (e, t, r) {\n            n.o(e, t) || Object.defineProperty(e, t, {\n              configurable: !1,\n              enumerable: !0,\n              get: r\n            });\n          }, n.n = function (e) {\n            var t = e && e.__esModule ? function () {\n              return e.default;\n            } : function () {\n              return e;\n            };\n            return n.d(t, \"a\", t), t;\n          }, n.o = function (e, t) {\n            return Object.prototype.hasOwnProperty.call(e, t);\n          }, n.p = \"\", n(n.s = 1);\n        }([function (e, t, n) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          });\n          var r = n(3);\n\n          var o = function () {\n            function e(e, t) {\n              void 0 === e && (e = {}), void 0 === t && (t = {\n                splitValues: !1\n              });\n              var n,\n                  o = this;\n              if (this.headersMap = {}, e) if (\"undefined\" != typeof Headers && e instanceof Headers) r.getHeaderKeys(e).forEach(function (n) {\n                r.getHeaderValues(e, n).forEach(function (e) {\n                  t.splitValues ? o.append(n, r.splitHeaderValue(e)) : o.append(n, e);\n                });\n              });else if (\"object\" == typeof (n = e) && \"object\" == typeof n.headersMap && \"function\" == typeof n.forEach) e.forEach(function (e, t) {\n                o.append(e, t);\n              });else if (\"undefined\" != typeof Map && e instanceof Map) {\n                e.forEach(function (e, t) {\n                  o.append(t, e);\n                });\n              } else \"string\" == typeof e ? this.appendFromString(e) : \"object\" == typeof e && Object.getOwnPropertyNames(e).forEach(function (t) {\n                var n = e[t];\n                Array.isArray(n) ? n.forEach(function (e) {\n                  o.append(t, e);\n                }) : o.append(t, n);\n              });\n            }\n\n            return e.prototype.appendFromString = function (e) {\n              for (var t = e.split(\"\\r\\n\"), n = 0; n < t.length; n++) {\n                var r = t[n],\n                    o = r.indexOf(\":\");\n\n                if (o > 0) {\n                  var s = r.substring(0, o).trim(),\n                      i = r.substring(o + 1).trim();\n                  this.append(s, i);\n                }\n              }\n            }, e.prototype.delete = function (e, t) {\n              var n = r.normalizeName(e);\n              if (void 0 === t) delete this.headersMap[n];else {\n                var o = this.headersMap[n];\n\n                if (o) {\n                  var s = o.indexOf(t);\n                  s >= 0 && o.splice(s, 1), 0 === o.length && delete this.headersMap[n];\n                }\n              }\n            }, e.prototype.append = function (e, t) {\n              var n = this,\n                  o = r.normalizeName(e);\n              Array.isArray(this.headersMap[o]) || (this.headersMap[o] = []), Array.isArray(t) ? t.forEach(function (e) {\n                n.headersMap[o].push(r.normalizeValue(e));\n              }) : this.headersMap[o].push(r.normalizeValue(t));\n            }, e.prototype.set = function (e, t) {\n              var n = r.normalizeName(e);\n\n              if (Array.isArray(t)) {\n                var o = [];\n                t.forEach(function (e) {\n                  o.push(r.normalizeValue(e));\n                }), this.headersMap[n] = o;\n              } else this.headersMap[n] = [r.normalizeValue(t)];\n            }, e.prototype.has = function (e, t) {\n              var n = this.headersMap[r.normalizeName(e)];\n              if (!Array.isArray(n)) return !1;\n\n              if (void 0 !== t) {\n                var o = r.normalizeValue(t);\n                return n.indexOf(o) >= 0;\n              }\n\n              return !0;\n            }, e.prototype.get = function (e) {\n              var t = this.headersMap[r.normalizeName(e)];\n              return void 0 !== t ? t.concat() : [];\n            }, e.prototype.forEach = function (e) {\n              var t = this;\n              Object.getOwnPropertyNames(this.headersMap).forEach(function (n) {\n                e(n, t.headersMap[n]);\n              }, this);\n            }, e.prototype.toHeaders = function () {\n              if (\"undefined\" != typeof Headers) {\n                var e = new Headers();\n                return this.forEach(function (t, n) {\n                  n.forEach(function (n) {\n                    e.append(t, n);\n                  });\n                }), e;\n              }\n\n              throw new Error(\"Headers class is not defined\");\n            }, e;\n          }();\n\n          t.BrowserHeaders = o;\n        }, function (e, t, n) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          });\n          var r = n(0);\n          t.BrowserHeaders = r.BrowserHeaders;\n        }, function (e, t, n) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.iterateHeaders = function (e, t) {\n            for (var n = e[Symbol.iterator](), r = n.next(); !r.done;) t(r.value[0]), r = n.next();\n          }, t.iterateHeadersKeys = function (e, t) {\n            for (var n = e.keys(), r = n.next(); !r.done;) t(r.value), r = n.next();\n          };\n        }, function (e, t, n) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          });\n          var r = n(2);\n\n          function o(e) {\n            return e;\n          }\n\n          t.normalizeName = function (e) {\n            if (\"string\" != typeof e && (e = String(e)), /[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(e)) throw new TypeError(\"Invalid character in header field name\");\n            return e.toLowerCase();\n          }, t.normalizeValue = function (e) {\n            return \"string\" != typeof e && (e = String(e)), e;\n          }, t.getHeaderValues = function (e, t) {\n            var n = o(e);\n            if (n instanceof Headers && n.getAll) return n.getAll(t);\n            var r = n.get(t);\n            return r && \"string\" == typeof r ? [r] : r;\n          }, t.getHeaderKeys = function (e) {\n            var t = o(e),\n                n = {},\n                s = [];\n            return t.keys ? r.iterateHeadersKeys(t, function (e) {\n              n[e] || (n[e] = !0, s.push(e));\n            }) : t.forEach ? t.forEach(function (e, t) {\n              n[t] || (n[t] = !0, s.push(t));\n            }) : r.iterateHeaders(t, function (e) {\n              var t = e[0];\n              n[t] || (n[t] = !0, s.push(t));\n            }), s;\n          }, t.splitHeaderValue = function (e) {\n            var t = [];\n            return e.split(\", \").forEach(function (e) {\n              e.split(\",\").forEach(function (e) {\n                t.push(e);\n              });\n            }), t;\n          };\n        }]);\n      }, e.exports = r();\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n\n      var r = n(6),\n          o = function (e) {\n        return r.CrossBrowserHttpTransport({\n          withCredentials: !1\n        })(e);\n      };\n\n      t.setDefaultTransportFactory = function (e) {\n        o = e;\n      }, t.makeDefaultTransport = function (e) {\n        return o(e);\n      };\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var r = n(7),\n          o = n(8);\n\n      t.CrossBrowserHttpTransport = function (e) {\n        if (r.detectFetchSupport()) {\n          var t = {\n            credentials: e.withCredentials ? \"include\" : \"same-origin\"\n          };\n          return r.FetchReadableStreamTransport(t);\n        }\n\n        return o.XhrTransport({\n          withCredentials: e.withCredentials\n        });\n      };\n    }, function (e, t, n) {\n      var r = this && this.__assign || function () {\n        return (r = Object.assign || function (e) {\n          for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n\n          return e;\n        }).apply(this, arguments);\n      };\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var o = n(0),\n          s = n(1),\n          i = n(2);\n\n      t.FetchReadableStreamTransport = function (e) {\n        return function (t) {\n          return function (e, t) {\n            return e.debug && s.debug(\"fetchRequest\", e), new a(e, t);\n          }(t, e);\n        };\n      };\n\n      var a = function () {\n        function e(e, t) {\n          this.cancelled = !1, this.controller = self.AbortController && new AbortController(), this.options = e, this.init = t;\n        }\n\n        return e.prototype.pump = function (e, t) {\n          var n = this;\n          if (this.reader = e, this.cancelled) return this.options.debug && s.debug(\"Fetch.pump.cancel at first pump\"), void this.reader.cancel();\n          this.reader.read().then(function (e) {\n            if (e.done) return i.default(function () {\n              n.options.onEnd();\n            }), t;\n            i.default(function () {\n              n.options.onChunk(e.value);\n            }), n.pump(n.reader, t);\n          }).catch(function (e) {\n            n.cancelled ? n.options.debug && s.debug(\"Fetch.catch - request cancelled\") : (n.cancelled = !0, n.options.debug && s.debug(\"Fetch.catch\", e.message), i.default(function () {\n              n.options.onEnd(e);\n            }));\n          });\n        }, e.prototype.send = function (e) {\n          var t = this;\n          fetch(this.options.url, r({}, this.init, {\n            headers: this.metadata.toHeaders(),\n            method: \"POST\",\n            body: e,\n            signal: this.controller && this.controller.signal\n          })).then(function (e) {\n            if (t.options.debug && s.debug(\"Fetch.response\", e), i.default(function () {\n              t.options.onHeaders(new o.Metadata(e.headers), e.status);\n            }), !e.body) return e;\n            t.pump(e.body.getReader(), e);\n          }).catch(function (e) {\n            t.cancelled ? t.options.debug && s.debug(\"Fetch.catch - request cancelled\") : (t.cancelled = !0, t.options.debug && s.debug(\"Fetch.catch\", e.message), i.default(function () {\n              t.options.onEnd(e);\n            }));\n          });\n        }, e.prototype.sendMessage = function (e) {\n          this.send(e);\n        }, e.prototype.finishSend = function () {}, e.prototype.start = function (e) {\n          this.metadata = e;\n        }, e.prototype.cancel = function () {\n          this.cancelled ? this.options.debug && s.debug(\"Fetch.abort.cancel already cancelled\") : (this.cancelled = !0, this.reader ? (this.options.debug && s.debug(\"Fetch.abort.cancel\"), this.reader.cancel()) : this.options.debug && s.debug(\"Fetch.abort.cancel before reader\"), this.controller && this.controller.abort());\n        }, e;\n      }();\n\n      t.detectFetchSupport = function () {\n        return \"undefined\" != typeof Response && Response.prototype.hasOwnProperty(\"body\") && \"function\" == typeof Headers;\n      };\n    }, function (e, t, n) {\n      var r,\n          o = this && this.__extends || (r = function (e, t) {\n        return (r = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (e, t) {\n          e.__proto__ = t;\n        } || function (e, t) {\n          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);\n        })(e, t);\n      }, function (e, t) {\n        function n() {\n          this.constructor = e;\n        }\n\n        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n      });\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var s = n(0),\n          i = n(1),\n          a = n(2),\n          u = n(12);\n\n      t.XhrTransport = function (e) {\n        return function (t) {\n          if (u.detectMozXHRSupport()) return new c(t, e);\n          if (u.detectXHROverrideMimeTypeSupport()) return new d(t, e);\n          throw new Error(\"This environment's XHR implementation cannot support binary transfer.\");\n        };\n      };\n\n      var d = function () {\n        function e(e, t) {\n          this.options = e, this.init = t;\n        }\n\n        return e.prototype.onProgressEvent = function () {\n          var e = this;\n          this.options.debug && i.debug(\"XHR.onProgressEvent.length: \", this.xhr.response.length);\n          var t = this.xhr.response.substr(this.index);\n          this.index = this.xhr.response.length;\n          var n = f(t);\n          a.default(function () {\n            e.options.onChunk(n);\n          });\n        }, e.prototype.onLoadEvent = function () {\n          var e = this;\n          this.options.debug && i.debug(\"XHR.onLoadEvent\"), a.default(function () {\n            e.options.onEnd();\n          });\n        }, e.prototype.onStateChange = function () {\n          var e = this;\n          this.options.debug && i.debug(\"XHR.onStateChange\", this.xhr.readyState), this.xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED && a.default(function () {\n            e.options.onHeaders(new s.Metadata(e.xhr.getAllResponseHeaders()), e.xhr.status);\n          });\n        }, e.prototype.sendMessage = function (e) {\n          this.xhr.send(e);\n        }, e.prototype.finishSend = function () {}, e.prototype.start = function (e) {\n          var t = this;\n          this.metadata = e;\n          var n = new XMLHttpRequest();\n          this.xhr = n, n.open(\"POST\", this.options.url), this.configureXhr(), this.metadata.forEach(function (e, t) {\n            n.setRequestHeader(e, t.join(\", \"));\n          }), n.withCredentials = Boolean(this.init.withCredentials), n.addEventListener(\"readystatechange\", this.onStateChange.bind(this)), n.addEventListener(\"progress\", this.onProgressEvent.bind(this)), n.addEventListener(\"loadend\", this.onLoadEvent.bind(this)), n.addEventListener(\"error\", function (e) {\n            t.options.debug && i.debug(\"XHR.error\", e), a.default(function () {\n              t.options.onEnd(e.error);\n            });\n          });\n        }, e.prototype.configureXhr = function () {\n          this.xhr.responseType = \"text\", this.xhr.overrideMimeType(\"text/plain; charset=x-user-defined\");\n        }, e.prototype.cancel = function () {\n          this.options.debug && i.debug(\"XHR.abort\"), this.xhr.abort();\n        }, e;\n      }();\n\n      t.XHR = d;\n\n      var c = function (e) {\n        function t() {\n          return null !== e && e.apply(this, arguments) || this;\n        }\n\n        return o(t, e), t.prototype.configureXhr = function () {\n          this.options.debug && i.debug(\"MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'\"), this.xhr.responseType = \"moz-chunked-arraybuffer\";\n        }, t.prototype.onProgressEvent = function () {\n          var e = this,\n              t = this.xhr.response;\n          this.options.debug && i.debug(\"MozXHR.onProgressEvent: \", new Uint8Array(t)), a.default(function () {\n            e.options.onChunk(new Uint8Array(t));\n          });\n        }, t;\n      }(d);\n\n      function p(e, t) {\n        var n = e.charCodeAt(t);\n\n        if (n >= 55296 && n <= 56319) {\n          var r = e.charCodeAt(t + 1);\n          r >= 56320 && r <= 57343 && (n = 65536 + (n - 55296 << 10) + (r - 56320));\n        }\n\n        return n;\n      }\n\n      function f(e) {\n        for (var t = new Uint8Array(e.length), n = 0, r = 0; r < e.length; r++) {\n          var o = String.prototype.codePointAt ? e.codePointAt(r) : p(e, r);\n          t[n++] = 255 & o;\n        }\n\n        return t;\n      }\n\n      t.MozChunkedArrayBufferXHR = c, t.stringToArrayBuffer = f;\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n\n      var r,\n          o = n(0),\n          s = function (e) {\n        return 9 === e || 10 === e || 13 === e;\n      };\n\n      function i(e) {\n        return s(e) || e >= 32 && e <= 126;\n      }\n\n      function a(e) {\n        for (var t = 0; t !== e.length; ++t) if (!i(e[t])) throw new Error(\"Metadata is not valid (printable) ASCII\");\n\n        return String.fromCharCode.apply(String, Array.prototype.slice.call(e));\n      }\n\n      function u(e) {\n        return 128 == (128 & e.getUint8(0));\n      }\n\n      function d(e) {\n        return e.getUint32(1, !1);\n      }\n\n      function c(e, t, n) {\n        return e.byteLength - t >= n;\n      }\n\n      function p(e, t, n) {\n        if (e.slice) return e.slice(t, n);\n        var r = e.length;\n        void 0 !== n && (r = n);\n\n        for (var o = new Uint8Array(r - t), s = 0, i = t; i < r; i++) o[s++] = e[i];\n\n        return o;\n      }\n\n      t.decodeASCII = a, t.encodeASCII = function (e) {\n        for (var t = new Uint8Array(e.length), n = 0; n !== e.length; ++n) {\n          var r = e.charCodeAt(n);\n          if (!i(r)) throw new Error(\"Metadata contains invalid ASCII\");\n          t[n] = r;\n        }\n\n        return t;\n      }, function (e) {\n        e[e.MESSAGE = 1] = \"MESSAGE\", e[e.TRAILERS = 2] = \"TRAILERS\";\n      }(r = t.ChunkType || (t.ChunkType = {}));\n\n      var f = function () {\n        function e() {\n          this.buffer = null, this.position = 0;\n        }\n\n        return e.prototype.parse = function (e, t) {\n          if (0 === e.length && t) return [];\n          var n,\n              s = [];\n          if (null == this.buffer) this.buffer = e, this.position = 0;else if (this.position === this.buffer.byteLength) this.buffer = e, this.position = 0;else {\n            var i = this.buffer.byteLength - this.position,\n                f = new Uint8Array(i + e.byteLength),\n                h = p(this.buffer, this.position);\n            f.set(h, 0);\n            var l = new Uint8Array(e);\n            f.set(l, i), this.buffer = f, this.position = 0;\n          }\n\n          for (;;) {\n            if (!c(this.buffer, this.position, 5)) return s;\n            var g = p(this.buffer, this.position, this.position + 5),\n                b = new DataView(g.buffer, g.byteOffset, g.byteLength),\n                y = d(b);\n            if (!c(this.buffer, this.position, 5 + y)) return s;\n            var v = p(this.buffer, this.position + 5, this.position + 5 + y);\n            if (this.position += 5 + y, u(b)) return s.push({\n              chunkType: r.TRAILERS,\n              trailers: (n = v, new o.Metadata(a(n)))\n            }), s;\n            s.push({\n              chunkType: r.MESSAGE,\n              data: v\n            });\n          }\n        }, e;\n      }();\n\n      t.ChunkParser = f;\n    }, function (e, t, n) {\n      var r;\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      }), function (e) {\n        e[e.OK = 0] = \"OK\", e[e.Canceled = 1] = \"Canceled\", e[e.Unknown = 2] = \"Unknown\", e[e.InvalidArgument = 3] = \"InvalidArgument\", e[e.DeadlineExceeded = 4] = \"DeadlineExceeded\", e[e.NotFound = 5] = \"NotFound\", e[e.AlreadyExists = 6] = \"AlreadyExists\", e[e.PermissionDenied = 7] = \"PermissionDenied\", e[e.ResourceExhausted = 8] = \"ResourceExhausted\", e[e.FailedPrecondition = 9] = \"FailedPrecondition\", e[e.Aborted = 10] = \"Aborted\", e[e.OutOfRange = 11] = \"OutOfRange\", e[e.Unimplemented = 12] = \"Unimplemented\", e[e.Internal = 13] = \"Internal\", e[e.Unavailable = 14] = \"Unavailable\", e[e.DataLoss = 15] = \"DataLoss\", e[e.Unauthenticated = 16] = \"Unauthenticated\";\n      }(r = t.Code || (t.Code = {})), t.httpStatusToCode = function (e) {\n        switch (e) {\n          case 0:\n            return r.Internal;\n\n          case 200:\n            return r.OK;\n\n          case 400:\n            return r.InvalidArgument;\n\n          case 401:\n            return r.Unauthenticated;\n\n          case 403:\n            return r.PermissionDenied;\n\n          case 404:\n            return r.NotFound;\n\n          case 409:\n            return r.Aborted;\n\n          case 412:\n            return r.FailedPrecondition;\n\n          case 429:\n            return r.ResourceExhausted;\n\n          case 499:\n            return r.Canceled;\n\n          case 500:\n            return r.Unknown;\n\n          case 501:\n            return r.Unimplemented;\n\n          case 503:\n            return r.Unavailable;\n\n          case 504:\n            return r.DeadlineExceeded;\n\n          default:\n            return r.Unknown;\n        }\n      };\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var r = n(4),\n          o = n(5),\n          s = n(7),\n          i = n(13),\n          a = n(8),\n          u = n(6),\n          d = n(10),\n          c = n(14),\n          p = n(16),\n          f = n(3);\n      !function (e) {\n        e.setDefaultTransport = o.setDefaultTransportFactory, e.CrossBrowserHttpTransport = u.CrossBrowserHttpTransport, e.FetchReadableStreamTransport = s.FetchReadableStreamTransport, e.XhrTransport = a.XhrTransport, e.WebsocketTransport = i.WebsocketTransport, e.Code = d.Code, e.Metadata = r.BrowserHeaders, e.client = function (e, t) {\n          return f.client(e, t);\n        }, e.invoke = c.invoke, e.unary = p.unary;\n      }(t.grpc || (t.grpc = {}));\n    }, function (e, t, n) {\n      var r;\n\n      function o() {\n        if (void 0 !== r) return r;\n\n        if (XMLHttpRequest) {\n          r = new XMLHttpRequest();\n\n          try {\n            r.open(\"GET\", \"https://localhost\");\n          } catch (e) {}\n        }\n\n        return r;\n      }\n\n      function s(e) {\n        var t = o();\n        if (!t) return !1;\n\n        try {\n          return t.responseType = e, t.responseType === e;\n        } catch (e) {}\n\n        return !1;\n      }\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      }), t.xhrSupportsResponseType = s, t.detectMozXHRSupport = function () {\n        return \"undefined\" != typeof XMLHttpRequest && s(\"moz-chunked-arraybuffer\");\n      }, t.detectXHROverrideMimeTypeSupport = function () {\n        return \"undefined\" != typeof XMLHttpRequest && XMLHttpRequest.prototype.hasOwnProperty(\"overrideMimeType\");\n      };\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var r,\n          o = n(1),\n          s = n(2),\n          i = n(9);\n      !function (e) {\n        e[e.FINISH_SEND = 1] = \"FINISH_SEND\";\n      }(r || (r = {}));\n      var a = new Uint8Array([1]);\n\n      t.WebsocketTransport = function () {\n        return function (e) {\n          return function (e) {\n            e.debug && o.debug(\"websocketRequest\", e);\n\n            var t,\n                n = function (e) {\n              if (\"https://\" === e.substr(0, 8)) return \"wss://\" + e.substr(8);\n              if (\"http://\" === e.substr(0, 7)) return \"ws://\" + e.substr(7);\n              throw new Error(\"Websocket transport constructed with non-https:// or http:// host.\");\n            }(e.url),\n                u = [];\n\n            function d(e) {\n              if (e === r.FINISH_SEND) t.send(a);else {\n                var n = e,\n                    o = new Int8Array(n.byteLength + 1);\n                o.set(new Uint8Array([0])), o.set(n, 1), t.send(o);\n              }\n            }\n\n            return {\n              sendMessage: function (e) {\n                t && t.readyState !== t.CONNECTING ? d(e) : u.push(e);\n              },\n              finishSend: function () {\n                t && t.readyState !== t.CONNECTING ? d(r.FINISH_SEND) : u.push(r.FINISH_SEND);\n              },\n              start: function (r) {\n                (t = new WebSocket(n, [\"grpc-websockets\"])).binaryType = \"arraybuffer\", t.onopen = function () {\n                  var n;\n                  e.debug && o.debug(\"websocketRequest.onopen\"), t.send((n = \"\", r.forEach(function (e, t) {\n                    n += e + \": \" + t.join(\", \") + \"\\r\\n\";\n                  }), i.encodeASCII(n))), u.forEach(function (e) {\n                    d(e);\n                  });\n                }, t.onclose = function (t) {\n                  e.debug && o.debug(\"websocketRequest.onclose\", t), s.default(function () {\n                    e.onEnd();\n                  });\n                }, t.onerror = function (t) {\n                  e.debug && o.debug(\"websocketRequest.onerror\", t);\n                }, t.onmessage = function (t) {\n                  s.default(function () {\n                    e.onChunk(new Uint8Array(t.data));\n                  });\n                };\n              },\n              cancel: function () {\n                e.debug && o.debug(\"websocket.abort\"), s.default(function () {\n                  t.close();\n                });\n              }\n            };\n          }(e);\n        };\n      };\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var r = n(3);\n\n      t.invoke = function (e, t) {\n        if (e.requestStream) throw new Error(\".invoke cannot be used with client-streaming methods. Use .client instead.\");\n        var n = r.client(e, {\n          host: t.host,\n          transport: t.transport,\n          debug: t.debug\n        });\n        return t.onHeaders && n.onHeaders(t.onHeaders), t.onMessage && n.onMessage(t.onMessage), t.onEnd && n.onEnd(t.onEnd), n.start(t.metadata), n.send(t.request), n.finishSend(), {\n          close: function () {\n            n.close();\n          }\n        };\n      };\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      }), t.frameRequest = function (e) {\n        var t = e.serializeBinary(),\n            n = new ArrayBuffer(t.byteLength + 5);\n        return new DataView(n, 1, 4).setUint32(0, t.length, !1), new Uint8Array(n, 5).set(t), new Uint8Array(n);\n      };\n    }, function (e, t, n) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var r = n(0),\n          o = n(3);\n\n      t.unary = function (e, t) {\n        if (e.responseStream) throw new Error(\".unary cannot be used with server-streaming methods. Use .invoke or .client instead.\");\n        if (e.requestStream) throw new Error(\".unary cannot be used with client-streaming methods. Use .client instead.\");\n        var n = null,\n            s = null,\n            i = o.client(e, {\n          host: t.host,\n          transport: t.transport,\n          debug: t.debug\n        });\n        return i.onHeaders(function (e) {\n          n = e;\n        }), i.onMessage(function (e) {\n          s = e;\n        }), i.onEnd(function (e, o, i) {\n          t.onEnd({\n            status: e,\n            statusMessage: o,\n            headers: n || new r.Metadata(),\n            message: s,\n            trailers: i\n          });\n        }), i.start(t.metadata), i.send(t.request), i.finishSend(), {\n          close: function () {\n            i.close();\n          }\n        };\n      };\n    }]);\n  });\n});\nvar commonjsGlobal$1 = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule$1(fn) {\n  var module = {\n    exports: {}\n  };\n  return fn(module, module.exports), module.exports;\n} // https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\n\nvar ws = null;\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket;\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket;\n} else if (typeof commonjsGlobal$1 !== 'undefined') {\n  ws = commonjsGlobal$1.WebSocket || commonjsGlobal$1.MozWebSocket;\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket;\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket;\n}\n\nvar browser = ws;\n/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n\nvar loglevel = createCommonjsModule$1(function (module) {\n  (function (root, definition) {\n    if (module.exports) {\n      module.exports = definition();\n    } else {\n      root.log = definition();\n    }\n  })(commonjsGlobal$1, function () {\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function () {};\n\n    var undefinedType = \"undefined\";\n    var isIE = typeof window !== undefinedType && typeof window.navigator !== undefinedType && /Trident\\/|MSIE /.test(window.navigator.userAgent);\n    var logMethods = [\"trace\", \"debug\", \"info\", \"warn\", \"error\"]; // Cross-browser bind equivalent that works at least back to IE6\n\n    function bindMethod(obj, methodName) {\n      var method = obj[methodName];\n\n      if (typeof method.bind === 'function') {\n        return method.bind(obj);\n      } else {\n        try {\n          return Function.prototype.bind.call(method, obj);\n        } catch (e) {\n          // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n          return function () {\n            return Function.prototype.apply.apply(method, [obj, arguments]);\n          };\n        }\n      }\n    } // Trace() doesn't print the message in IE, so for that case we need to wrap it\n\n\n    function traceForIE() {\n      if (console.log) {\n        if (console.log.apply) {\n          console.log.apply(console, arguments);\n        } else {\n          // In old IE, native console methods themselves don't have apply().\n          Function.prototype.apply.apply(console.log, [console, arguments]);\n        }\n      }\n\n      if (console.trace) console.trace();\n    } // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n\n\n    function realMethod(methodName) {\n      if (methodName === 'debug') {\n        methodName = 'log';\n      }\n\n      if (typeof console === undefinedType) {\n        return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n      } else if (methodName === 'trace' && isIE) {\n        return traceForIE;\n      } else if (console[methodName] !== undefined) {\n        return bindMethod(console, methodName);\n      } else if (console.log !== undefined) {\n        return bindMethod(console, 'log');\n      } else {\n        return noop;\n      }\n    } // These private functions always need `this` to be set properly\n\n\n    function replaceLoggingMethods(level, loggerName) {\n      /*jshint validthis:true */\n      for (var i = 0; i < logMethods.length; i++) {\n        var methodName = logMethods[i];\n        this[methodName] = i < level ? noop : this.methodFactory(methodName, level, loggerName);\n      } // Define log.log as an alias for log.debug\n\n\n      this.log = this.debug;\n    } // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n\n\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n      return function () {\n        if (typeof console !== undefinedType) {\n          replaceLoggingMethods.call(this, level, loggerName);\n          this[methodName].apply(this, arguments);\n        }\n      };\n    } // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n\n\n    function defaultMethodFactory(methodName, level, loggerName) {\n      /*jshint validthis:true */\n      return realMethod(methodName) || enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      var storageKey = \"loglevel\";\n\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n        var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n        if (typeof window === undefinedType || !storageKey) return; // Use localStorage if available\n\n        try {\n          window.localStorage[storageKey] = levelName;\n          return;\n        } catch (ignore) {} // Use session cookie as fallback\n\n\n        try {\n          window.document.cookie = encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n        } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n        var storedLevel;\n        if (typeof window === undefinedType || !storageKey) return;\n\n        try {\n          storedLevel = window.localStorage[storageKey];\n        } catch (ignore) {} // Fallback to cookies if local storage gives us nothing\n\n\n        if (typeof storedLevel === undefinedType) {\n          try {\n            var cookie = window.document.cookie;\n            var location = cookie.indexOf(encodeURIComponent(storageKey) + \"=\");\n\n            if (location !== -1) {\n              storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n            }\n          } catch (ignore) {}\n        } // If the stored level is not valid, treat it as if nothing was stored.\n\n\n        if (self.levels[storedLevel] === undefined) {\n          storedLevel = undefined;\n        }\n\n        return storedLevel;\n      }\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n\n      self.name = name;\n      self.levels = {\n        \"TRACE\": 0,\n        \"DEBUG\": 1,\n        \"INFO\": 2,\n        \"WARN\": 3,\n        \"ERROR\": 4,\n        \"SILENT\": 5\n      };\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n        return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n        if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n          level = self.levels[level.toUpperCase()];\n        }\n\n        if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n          currentLevel = level;\n\n          if (persist !== false) {\n            // defaults to true\n            persistLevelIfPossible(level);\n          }\n\n          replaceLoggingMethods.call(self, level, name);\n\n          if (typeof console === undefinedType && level < self.levels.SILENT) {\n            return \"No console available for logging\";\n          }\n        } else {\n          throw \"log.setLevel() called with invalid level: \" + level;\n        }\n      };\n\n      self.setDefaultLevel = function (level) {\n        if (!getPersistedLevel()) {\n          self.setLevel(level, false);\n        }\n      };\n\n      self.enableAll = function (persist) {\n        self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function (persist) {\n        self.setLevel(self.levels.SILENT, persist);\n      }; // Initialize with the right level\n\n\n      var initialLevel = getPersistedLevel();\n\n      if (initialLevel == null) {\n        initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n      }\n\n      self.setLevel(initialLevel, false);\n    }\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n\n    var defaultLogger = new Logger();\n    var _loggersByName = {};\n\n    defaultLogger.getLogger = function getLogger(name) {\n      if (typeof name !== \"symbol\" && typeof name !== \"string\" || name === \"\") {\n        throw new TypeError(\"You must supply a name when creating a logger.\");\n      }\n\n      var logger = _loggersByName[name];\n\n      if (!logger) {\n        logger = _loggersByName[name] = new Logger(name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n      }\n\n      return logger;\n    }; // Grab the current global log variable in case of overwrite\n\n\n    var _log = typeof window !== undefinedType ? window.log : undefined;\n\n    defaultLogger.noConflict = function () {\n      if (typeof window !== undefinedType && window.log === defaultLogger) {\n        window.log = _log;\n      }\n\n      return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n      return _loggersByName;\n    }; // ES6 default export, for compatibility\n\n\n    defaultLogger['default'] = defaultLogger;\n    return defaultLogger;\n  });\n});\nconst {\n  debug\n} = loglevel.getLogger('grpc-transport');\n\nconst isAllowedControlChars = char => char === 0x9 || char === 0xa || char === 0xd;\n\nfunction isValidHeaderAscii(val) {\n  return isAllowedControlChars(val) || val >= 0x20 && val <= 0x7e;\n}\n\nfunction encodeASCII(input) {\n  const encoded = new Uint8Array(input.length);\n\n  for (let i = 0; i !== input.length; ++i) {\n    const charCode = input.charCodeAt(i);\n\n    if (!isValidHeaderAscii(charCode)) {\n      throw new Error('Metadata contains invalid ASCII');\n    }\n\n    encoded[i] = charCode;\n  }\n\n  return encoded;\n}\n\nvar WebsocketSignal;\n\n(function (WebsocketSignal) {\n  WebsocketSignal[WebsocketSignal[\"FINISH_SEND\"] = 1] = \"FINISH_SEND\";\n})(WebsocketSignal || (WebsocketSignal = {}));\n\nconst finishSendFrame = new Uint8Array([1]);\n\nfunction constructWebSocketAddress(url) {\n  if (url.substr(0, 8) === 'https://') {\n    return `wss://${url.substr(8)}`;\n  } else if (url.substr(0, 7) === 'http://') {\n    return `ws://${url.substr(7)}`;\n  }\n\n  throw new Error('Websocket transport constructed with non-https:// or http:// host.');\n}\n\nfunction headersToBytes(headers) {\n  let asString = '';\n  headers.forEach((key, values) => {\n    asString += `${key}: ${values.join(', ')}\\r\\n`;\n  });\n  return encodeASCII(asString);\n}\n\nfunction websocketRequest(options) {\n  options.debug && debug('websocketRequest', options);\n  const webSocketAddress = constructWebSocketAddress(options.url);\n  const sendQueue = [];\n  let ws;\n\n  function sendToWebsocket(toSend) {\n    if (toSend === WebsocketSignal.FINISH_SEND) {\n      ws.send(finishSendFrame);\n    } else {\n      const byteArray = toSend;\n      const c = new Int8Array(byteArray.byteLength + 1);\n      c.set(new Uint8Array([0]));\n      c.set(byteArray, 1);\n      ws.send(c);\n    }\n  }\n\n  return {\n    sendMessage: msgBytes => {\n      if (!ws || ws.readyState === ws.CONNECTING) {\n        sendQueue.push(msgBytes);\n      } else {\n        sendToWebsocket(msgBytes);\n      }\n    },\n    finishSend: () => {\n      if (!ws || ws.readyState === ws.CONNECTING) {\n        sendQueue.push(WebsocketSignal.FINISH_SEND);\n      } else {\n        sendToWebsocket(WebsocketSignal.FINISH_SEND);\n      }\n    },\n    start: metadata => {\n      ws = new browser(webSocketAddress, ['grpc-websockets']);\n      ws.binaryType = 'arraybuffer';\n\n      ws.onopen = function () {\n        options.debug && debug('websocketRequest.onopen');\n        ws.send(headersToBytes(metadata)); // send any messages that were passed to sendMessage before the connection was ready\n\n        sendQueue.forEach(toSend => {\n          sendToWebsocket(toSend);\n        });\n      };\n\n      ws.onclose = function (closeEvent) {\n        options.debug && debug('websocketRequest.onclose', closeEvent);\n        options.onEnd();\n      };\n\n      ws.onerror = function (error) {\n        options.debug && debug('websocketRequest.onerror', error);\n      };\n\n      ws.onmessage = function (e) {\n        options.onChunk(new Uint8Array(e.data));\n      };\n    },\n    cancel: () => {\n      options.debug && debug('websocket.abort');\n      ws.close();\n    }\n  };\n}\n\nfunction WebsocketTransport() {\n  return opts => {\n    return websocketRequest(opts);\n  };\n}\n\nclass GrpcConnection {\n  /**\n   * Creates a new gRPC client instance for accessing the Textile Buckets API.\n   * @param context The context to use for interacting with the APIs. Can be modified later.\n   */\n  constructor(context = new Context(), debug = false) {\n    this.context = context;\n    const transport = WebsocketTransport(); // Default to websocket always\n\n    this.serviceHost = context.host;\n    this.rpcOptions = {\n      transport,\n      debug\n    }; // Set default transport to websocket \"globally\"\n\n    grpcWebClient_umd.grpc.setDefaultTransport(transport);\n  }\n\n  unary(methodDescriptor, req, ctx) {\n    return new Promise((resolve, reject) => {\n      const metadata = ctx ? Object.assign({}, ctx.toJSON()) : Object.assign({}, this.context.toJSON());\n      grpcWebClient_umd.grpc.unary(methodDescriptor, {\n        request: req,\n        host: this.serviceHost,\n        transport: this.rpcOptions.transport,\n        debug: this.rpcOptions.debug,\n        metadata,\n        onEnd: res => {\n          const {\n            status,\n            statusMessage,\n            message\n          } = res;\n\n          if (status === grpcWebClient_umd.grpc.Code.OK) {\n            resolve(message);\n          } else {\n            const err = {\n              message: statusMessage,\n              code: status,\n              metadata\n            };\n            reject(err);\n          }\n        }\n      });\n    });\n  }\n\n}\n\nexport { GrpcConnection };","map":{"version":3,"sources":["/Users/wiki/code/apiece/node_modules/@textile/grpc-connection/dist/esm/index.js"],"names":["Context","commonjsGlobal","globalThis","window","global","self","createCommonjsModule","fn","module","exports","grpcWebClient_umd","e","t","n","r","o","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","Metadata","BrowserHeaders","debug","arguments","length","console","apply","log","setTimeout","unshift","push","a","u","client","started","sentFirstMessage","completed","closed","finishedSending","onHeadersCallbacks","onMessageCallbacks","onEndCallbacks","parser","ChunkParser","methodDefinition","props","createTransport","host","service","serviceName","methodName","url","onHeaders","onTransportHeaders","onChunk","onTransportChunk","onEnd","onTransportEnd","transport","makeDefaultTransport","responseHeaders","JSON","stringify","httpStatusToCode","rawOnHeaders","Code","OK","decodeGRPCStatus","rawOnError","parse","message","Internal","forEach","chunkType","ChunkType","MESSAGE","responseType","deserializeBinary","data","rawOnMessage","TRAILERS","responseTrailers","trailers","rawOnEnd","Unknown","decodeURIComponent","toObject","onMessage","start","Error","set","send","requestStream","frameRequest","sendMessage","finishSend","close","cancel","parseInt","configurable","splitValues","headersMap","Headers","getHeaderKeys","getHeaderValues","append","splitHeaderValue","Map","appendFromString","getOwnPropertyNames","Array","isArray","split","indexOf","substring","trim","delete","normalizeName","splice","normalizeValue","has","concat","toHeaders","iterateHeaders","iterator","next","done","iterateHeadersKeys","keys","String","test","TypeError","toLowerCase","getAll","CrossBrowserHttpTransport","withCredentials","setDefaultTransportFactory","detectFetchSupport","credentials","FetchReadableStreamTransport","XhrTransport","__assign","assign","cancelled","controller","AbortController","options","init","pump","reader","read","then","catch","fetch","headers","metadata","method","body","signal","status","getReader","abort","Response","__extends","setPrototypeOf","__proto__","constructor","detectMozXHRSupport","detectXHROverrideMimeTypeSupport","onProgressEvent","xhr","response","substr","index","f","onLoadEvent","onStateChange","readyState","XMLHttpRequest","HEADERS_RECEIVED","getAllResponseHeaders","open","configureXhr","setRequestHeader","join","Boolean","addEventListener","error","overrideMimeType","XHR","Uint8Array","charCodeAt","codePointAt","MozChunkedArrayBufferXHR","stringToArrayBuffer","fromCharCode","slice","getUint8","getUint32","byteLength","decodeASCII","encodeASCII","buffer","position","h","g","b","DataView","byteOffset","y","v","Canceled","InvalidArgument","DeadlineExceeded","NotFound","AlreadyExists","PermissionDenied","ResourceExhausted","FailedPrecondition","Aborted","OutOfRange","Unimplemented","Unavailable","DataLoss","Unauthenticated","setDefaultTransport","WebsocketTransport","invoke","unary","grpc","xhrSupportsResponseType","FINISH_SEND","Int8Array","CONNECTING","WebSocket","binaryType","onopen","onclose","onerror","onmessage","request","serializeBinary","ArrayBuffer","setUint32","responseStream","statusMessage","commonjsGlobal$1","createCommonjsModule$1","ws","MozWebSocket","browser","loglevel","root","definition","noop","undefinedType","isIE","navigator","userAgent","logMethods","bindMethod","obj","Function","traceForIE","trace","realMethod","undefined","replaceLoggingMethods","level","loggerName","methodFactory","enableLoggingWhenConsoleArrives","defaultMethodFactory","Logger","name","defaultLevel","factory","currentLevel","storageKey","persistLevelIfPossible","levelNum","levelName","toUpperCase","localStorage","ignore","document","cookie","encodeURIComponent","getPersistedLevel","storedLevel","location","exec","levels","getLevel","setLevel","persist","SILENT","setDefaultLevel","enableAll","TRACE","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","logger","_log","noConflict","getLoggers","isAllowedControlChars","char","isValidHeaderAscii","val","input","encoded","charCode","WebsocketSignal","finishSendFrame","constructWebSocketAddress","headersToBytes","asString","key","values","websocketRequest","webSocketAddress","sendQueue","sendToWebsocket","toSend","byteArray","msgBytes","closeEvent","opts","GrpcConnection","context","serviceHost","rpcOptions","methodDescriptor","req","ctx","Promise","resolve","reject","toJSON","res","err","code"],"mappings":"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","sourcesContent":["import { Context } from '@textile/context';\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn) {\n  var module = { exports: {} };\n\treturn fn(module, module.exports), module.exports;\n}\n\nvar grpcWebClient_umd = createCommonjsModule(function (module, exports) {\n!function(e,t){module.exports=t();}(commonjsGlobal,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r});},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0});},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=11)}([function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(4);t.Metadata=r.BrowserHeaders;},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug?console.debug.apply(null,e):console.log.apply(null,e);};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=null;t.default=function(e){null===r?(r=[e],setTimeout(function(){!function e(){if(r){var t=r;r=null;for(var n=0;n<t.length;n++)try{t[n]();}catch(s){null===r&&(r=[],setTimeout(function(){e();},0));for(var o=t.length-1;o>n;o--)r.unshift(t[o]);throw s}}}();},0)):r.push(e);};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),o=n(9),s=n(10),i=n(1),a=n(2),u=n(5),d=n(15);t.client=function(e,t){return new c(e,t)};var c=function(){function e(e,t){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new o.ChunkParser,this.methodDefinition=e,this.props=t,this.createTransport();}return e.prototype.createTransport=function(){var e=this.props.host+\"/\"+this.methodDefinition.service.serviceName+\"/\"+this.methodDefinition.methodName,t={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:e,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(t):this.transport=u.makeDefaultTransport(t);},e.prototype.onTransportHeaders=function(e,t){if(this.props.debug&&i.debug(\"onHeaders\",e,t),this.closed)this.props.debug&&i.debug(\"grpc.onHeaders received after request was closed - ignoring\");else if(0===t);else {this.responseHeaders=e,this.props.debug&&i.debug(\"onHeaders.responseHeaders\",JSON.stringify(this.responseHeaders,null,2));var n=p(e);this.props.debug&&i.debug(\"onHeaders.gRPCStatus\",n);var r=n&&n>=0?n:s.httpStatusToCode(t);this.props.debug&&i.debug(\"onHeaders.code\",r);var o=e.get(\"grpc-message\")||[];if(this.props.debug&&i.debug(\"onHeaders.gRPCMessage\",o),this.rawOnHeaders(e),r!==s.Code.OK){var a=this.decodeGRPCStatus(o[0]);this.rawOnError(r,a,e);}}},e.prototype.onTransportChunk=function(e){var t=this;if(this.closed)this.props.debug&&i.debug(\"grpc.onChunk received after request was closed - ignoring\");else {var n=[];try{n=this.parser.parse(e);}catch(e){return this.props.debug&&i.debug(\"onChunk.parsing error\",e,e.message),void this.rawOnError(s.Code.Internal,\"parsing error: \"+e.message)}n.forEach(function(e){if(e.chunkType===o.ChunkType.MESSAGE){var n=t.methodDefinition.responseType.deserializeBinary(e.data);t.rawOnMessage(n);}else e.chunkType===o.ChunkType.TRAILERS&&(t.responseHeaders?(t.responseTrailers=new r.Metadata(e.trailers),t.props.debug&&i.debug(\"onChunk.trailers\",t.responseTrailers)):(t.responseHeaders=new r.Metadata(e.trailers),t.rawOnHeaders(t.responseHeaders)));});}},e.prototype.onTransportEnd=function(){if(this.props.debug&&i.debug(\"grpc.onEnd\"),this.closed)this.props.debug&&i.debug(\"grpc.onEnd received after request was closed - ignoring\");else if(void 0!==this.responseTrailers){var e=p(this.responseTrailers);if(null!==e){var t=this.responseTrailers.get(\"grpc-message\"),n=this.decodeGRPCStatus(t[0]);this.rawOnEnd(e,n,this.responseTrailers);}else this.rawOnError(s.Code.Internal,\"Response closed without grpc-status (Trailers provided)\");}else {if(void 0===this.responseHeaders)return void this.rawOnError(s.Code.Unknown,\"Response closed without headers\");var r=p(this.responseHeaders),o=this.responseHeaders.get(\"grpc-message\");if(this.props.debug&&i.debug(\"grpc.headers only response \",r,o),null===r)return void this.rawOnEnd(s.Code.Unknown,\"Response closed without grpc-status (Headers only)\",this.responseHeaders);var a=this.decodeGRPCStatus(o[0]);this.rawOnEnd(r,a,this.responseHeaders);}},e.prototype.decodeGRPCStatus=function(e){if(!e)return \"\";try{return decodeURIComponent(e)}catch(t){return e}},e.prototype.rawOnEnd=function(e,t,n){var r=this;this.props.debug&&i.debug(\"rawOnEnd\",e,t,n),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(o){a.default(function(){r.closed||o(e,t,n);});}));},e.prototype.rawOnHeaders=function(e){this.props.debug&&i.debug(\"rawOnHeaders\",e),this.completed||this.onHeadersCallbacks.forEach(function(t){a.default(function(){t(e);});});},e.prototype.rawOnError=function(e,t,n){var o=this;void 0===n&&(n=new r.Metadata),this.props.debug&&i.debug(\"rawOnError\",e,t),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(r){a.default(function(){o.closed||r(e,t,n);});}));},e.prototype.rawOnMessage=function(e){var t=this;this.props.debug&&i.debug(\"rawOnMessage\",e.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(n){a.default(function(){t.closed||n(e);});});},e.prototype.onHeaders=function(e){this.onHeadersCallbacks.push(e);},e.prototype.onMessage=function(e){this.onMessageCallbacks.push(e);},e.prototype.onEnd=function(e){this.onEndCallbacks.push(e);},e.prototype.start=function(e){if(this.started)throw new Error(\"Client already started - cannot .start()\");this.started=!0;var t=new r.Metadata(e||{});t.set(\"content-type\",\"application/grpc-web+proto\"),t.set(\"x-grpc-web\",\"1\"),this.transport.start(t);},e.prototype.send=function(e){if(!this.started)throw new Error(\"Client not started - .start() must be called before .send()\");if(this.closed)throw new Error(\"Client already closed - cannot .send()\");if(this.finishedSending)throw new Error(\"Client already finished sending - cannot .send()\");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error(\"Message already sent for non-client-streaming method - cannot .send()\");this.sentFirstMessage=!0;var t=d.frameRequest(e);this.transport.sendMessage(t);},e.prototype.finishSend=function(){if(!this.started)throw new Error(\"Client not started - .finishSend() must be called before .close()\");if(this.closed)throw new Error(\"Client already closed - cannot .send()\");if(this.finishedSending)throw new Error(\"Client already finished sending - cannot .finishSend()\");this.finishedSending=!0,this.transport.finishSend();},e.prototype.close=function(){if(!this.started)throw new Error(\"Client not started - .start() must be called before .close()\");if(this.closed)throw new Error(\"Client already closed - cannot .close()\");this.closed=!0,this.props.debug&&i.debug(\"request.abort aborting request\"),this.transport.cancel();},e}();function p(e){var t=e.get(\"grpc-status\")||[];if(t.length>0)try{var n=t[0];return parseInt(n,10)}catch(e){return null}return null}},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r});},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(3);var o=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={splitValues:!1});var n,o=this;if(this.headersMap={},e)if(\"undefined\"!=typeof Headers&&e instanceof Headers)r.getHeaderKeys(e).forEach(function(n){r.getHeaderValues(e,n).forEach(function(e){t.splitValues?o.append(n,r.splitHeaderValue(e)):o.append(n,e);});});else if(\"object\"==typeof(n=e)&&\"object\"==typeof n.headersMap&&\"function\"==typeof n.forEach)e.forEach(function(e,t){o.append(e,t);});else if(\"undefined\"!=typeof Map&&e instanceof Map){e.forEach(function(e,t){o.append(t,e);});}else \"string\"==typeof e?this.appendFromString(e):\"object\"==typeof e&&Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];Array.isArray(n)?n.forEach(function(e){o.append(t,e);}):o.append(t,n);});}return e.prototype.appendFromString=function(e){for(var t=e.split(\"\\r\\n\"),n=0;n<t.length;n++){var r=t[n],o=r.indexOf(\":\");if(o>0){var s=r.substring(0,o).trim(),i=r.substring(o+1).trim();this.append(s,i);}}},e.prototype.delete=function(e,t){var n=r.normalizeName(e);if(void 0===t)delete this.headersMap[n];else {var o=this.headersMap[n];if(o){var s=o.indexOf(t);s>=0&&o.splice(s,1),0===o.length&&delete this.headersMap[n];}}},e.prototype.append=function(e,t){var n=this,o=r.normalizeName(e);Array.isArray(this.headersMap[o])||(this.headersMap[o]=[]),Array.isArray(t)?t.forEach(function(e){n.headersMap[o].push(r.normalizeValue(e));}):this.headersMap[o].push(r.normalizeValue(t));},e.prototype.set=function(e,t){var n=r.normalizeName(e);if(Array.isArray(t)){var o=[];t.forEach(function(e){o.push(r.normalizeValue(e));}),this.headersMap[n]=o;}else this.headersMap[n]=[r.normalizeValue(t)];},e.prototype.has=function(e,t){var n=this.headersMap[r.normalizeName(e)];if(!Array.isArray(n))return !1;if(void 0!==t){var o=r.normalizeValue(t);return n.indexOf(o)>=0}return !0},e.prototype.get=function(e){var t=this.headersMap[r.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(n){e(n,t.headersMap[n]);},this);},e.prototype.toHeaders=function(){if(\"undefined\"!=typeof Headers){var e=new Headers;return this.forEach(function(t,n){n.forEach(function(n){e.append(t,n);});}),e}throw new Error(\"Headers class is not defined\")},e}();t.BrowserHeaders=o;},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0);t.BrowserHeaders=r.BrowserHeaders;},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.iterateHeaders=function(e,t){for(var n=e[Symbol.iterator](),r=n.next();!r.done;)t(r.value[0]),r=n.next();},t.iterateHeadersKeys=function(e,t){for(var n=e.keys(),r=n.next();!r.done;)t(r.value),r=n.next();};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(2);function o(e){return e}t.normalizeName=function(e){if(\"string\"!=typeof e&&(e=String(e)),/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(e))throw new TypeError(\"Invalid character in header field name\");return e.toLowerCase()},t.normalizeValue=function(e){return \"string\"!=typeof e&&(e=String(e)),e},t.getHeaderValues=function(e,t){var n=o(e);if(n instanceof Headers&&n.getAll)return n.getAll(t);var r=n.get(t);return r&&\"string\"==typeof r?[r]:r},t.getHeaderKeys=function(e){var t=o(e),n={},s=[];return t.keys?r.iterateHeadersKeys(t,function(e){n[e]||(n[e]=!0,s.push(e));}):t.forEach?t.forEach(function(e,t){n[t]||(n[t]=!0,s.push(t));}):r.iterateHeaders(t,function(e){var t=e[0];n[t]||(n[t]=!0,s.push(t));}),s},t.splitHeaderValue=function(e){var t=[];return e.split(\", \").forEach(function(e){e.split(\",\").forEach(function(e){t.push(e);});}),t};}])},e.exports=r();},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(6),o=function(e){return r.CrossBrowserHttpTransport({withCredentials:!1})(e)};t.setDefaultTransportFactory=function(e){o=e;},t.makeDefaultTransport=function(e){return o(e)};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(7),o=n(8);t.CrossBrowserHttpTransport=function(e){if(r.detectFetchSupport()){var t={credentials:e.withCredentials?\"include\":\"same-origin\"};return r.FetchReadableStreamTransport(t)}return o.XhrTransport({withCredentials:e.withCredentials})};},function(e,t,n){var r=this&&this.__assign||function(){return (r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),s=n(1),i=n(2);t.FetchReadableStreamTransport=function(e){return function(t){return function(e,t){return e.debug&&s.debug(\"fetchRequest\",e),new a(e,t)}(t,e)}};var a=function(){function e(e,t){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=e,this.init=t;}return e.prototype.pump=function(e,t){var n=this;if(this.reader=e,this.cancelled)return this.options.debug&&s.debug(\"Fetch.pump.cancel at first pump\"),void this.reader.cancel();this.reader.read().then(function(e){if(e.done)return i.default(function(){n.options.onEnd();}),t;i.default(function(){n.options.onChunk(e.value);}),n.pump(n.reader,t);}).catch(function(e){n.cancelled?n.options.debug&&s.debug(\"Fetch.catch - request cancelled\"):(n.cancelled=!0,n.options.debug&&s.debug(\"Fetch.catch\",e.message),i.default(function(){n.options.onEnd(e);}));});},e.prototype.send=function(e){var t=this;fetch(this.options.url,r({},this.init,{headers:this.metadata.toHeaders(),method:\"POST\",body:e,signal:this.controller&&this.controller.signal})).then(function(e){if(t.options.debug&&s.debug(\"Fetch.response\",e),i.default(function(){t.options.onHeaders(new o.Metadata(e.headers),e.status);}),!e.body)return e;t.pump(e.body.getReader(),e);}).catch(function(e){t.cancelled?t.options.debug&&s.debug(\"Fetch.catch - request cancelled\"):(t.cancelled=!0,t.options.debug&&s.debug(\"Fetch.catch\",e.message),i.default(function(){t.options.onEnd(e);}));});},e.prototype.sendMessage=function(e){this.send(e);},e.prototype.finishSend=function(){},e.prototype.start=function(e){this.metadata=e;},e.prototype.cancel=function(){this.cancelled?this.options.debug&&s.debug(\"Fetch.abort.cancel already cancelled\"):(this.cancelled=!0,this.reader?(this.options.debug&&s.debug(\"Fetch.abort.cancel\"),this.reader.cancel()):this.options.debug&&s.debug(\"Fetch.abort.cancel before reader\"),this.controller&&this.controller.abort());},e}();t.detectFetchSupport=function(){return \"undefined\"!=typeof Response&&Response.prototype.hasOwnProperty(\"body\")&&\"function\"==typeof Headers};},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return (r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);})(e,t)},function(e,t){function n(){this.constructor=e;}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n);});Object.defineProperty(t,\"__esModule\",{value:!0});var s=n(0),i=n(1),a=n(2),u=n(12);t.XhrTransport=function(e){return function(t){if(u.detectMozXHRSupport())return new c(t,e);if(u.detectXHROverrideMimeTypeSupport())return new d(t,e);throw new Error(\"This environment's XHR implementation cannot support binary transfer.\")}};var d=function(){function e(e,t){this.options=e,this.init=t;}return e.prototype.onProgressEvent=function(){var e=this;this.options.debug&&i.debug(\"XHR.onProgressEvent.length: \",this.xhr.response.length);var t=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var n=f(t);a.default(function(){e.options.onChunk(n);});},e.prototype.onLoadEvent=function(){var e=this;this.options.debug&&i.debug(\"XHR.onLoadEvent\"),a.default(function(){e.options.onEnd();});},e.prototype.onStateChange=function(){var e=this;this.options.debug&&i.debug(\"XHR.onStateChange\",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&a.default(function(){e.options.onHeaders(new s.Metadata(e.xhr.getAllResponseHeaders()),e.xhr.status);});},e.prototype.sendMessage=function(e){this.xhr.send(e);},e.prototype.finishSend=function(){},e.prototype.start=function(e){var t=this;this.metadata=e;var n=new XMLHttpRequest;this.xhr=n,n.open(\"POST\",this.options.url),this.configureXhr(),this.metadata.forEach(function(e,t){n.setRequestHeader(e,t.join(\", \"));}),n.withCredentials=Boolean(this.init.withCredentials),n.addEventListener(\"readystatechange\",this.onStateChange.bind(this)),n.addEventListener(\"progress\",this.onProgressEvent.bind(this)),n.addEventListener(\"loadend\",this.onLoadEvent.bind(this)),n.addEventListener(\"error\",function(e){t.options.debug&&i.debug(\"XHR.error\",e),a.default(function(){t.options.onEnd(e.error);});});},e.prototype.configureXhr=function(){this.xhr.responseType=\"text\",this.xhr.overrideMimeType(\"text/plain; charset=x-user-defined\");},e.prototype.cancel=function(){this.options.debug&&i.debug(\"XHR.abort\"),this.xhr.abort();},e}();t.XHR=d;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.configureXhr=function(){this.options.debug&&i.debug(\"MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'\"),this.xhr.responseType=\"moz-chunked-arraybuffer\";},t.prototype.onProgressEvent=function(){var e=this,t=this.xhr.response;this.options.debug&&i.debug(\"MozXHR.onProgressEvent: \",new Uint8Array(t)),a.default(function(){e.options.onChunk(new Uint8Array(t));});},t}(d);function p(e,t){var n=e.charCodeAt(t);if(n>=55296&&n<=56319){var r=e.charCodeAt(t+1);r>=56320&&r<=57343&&(n=65536+(n-55296<<10)+(r-56320));}return n}function f(e){for(var t=new Uint8Array(e.length),n=0,r=0;r<e.length;r++){var o=String.prototype.codePointAt?e.codePointAt(r):p(e,r);t[n++]=255&o;}return t}t.MozChunkedArrayBufferXHR=c,t.stringToArrayBuffer=f;},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=n(0),s=function(e){return 9===e||10===e||13===e};function i(e){return s(e)||e>=32&&e<=126}function a(e){for(var t=0;t!==e.length;++t)if(!i(e[t]))throw new Error(\"Metadata is not valid (printable) ASCII\");return String.fromCharCode.apply(String,Array.prototype.slice.call(e))}function u(e){return 128==(128&e.getUint8(0))}function d(e){return e.getUint32(1,!1)}function c(e,t,n){return e.byteLength-t>=n}function p(e,t,n){if(e.slice)return e.slice(t,n);var r=e.length;void 0!==n&&(r=n);for(var o=new Uint8Array(r-t),s=0,i=t;i<r;i++)o[s++]=e[i];return o}t.decodeASCII=a,t.encodeASCII=function(e){for(var t=new Uint8Array(e.length),n=0;n!==e.length;++n){var r=e.charCodeAt(n);if(!i(r))throw new Error(\"Metadata contains invalid ASCII\");t[n]=r;}return t},function(e){e[e.MESSAGE=1]=\"MESSAGE\",e[e.TRAILERS=2]=\"TRAILERS\";}(r=t.ChunkType||(t.ChunkType={}));var f=function(){function e(){this.buffer=null,this.position=0;}return e.prototype.parse=function(e,t){if(0===e.length&&t)return [];var n,s=[];if(null==this.buffer)this.buffer=e,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=e,this.position=0;else {var i=this.buffer.byteLength-this.position,f=new Uint8Array(i+e.byteLength),h=p(this.buffer,this.position);f.set(h,0);var l=new Uint8Array(e);f.set(l,i),this.buffer=f,this.position=0;}for(;;){if(!c(this.buffer,this.position,5))return s;var g=p(this.buffer,this.position,this.position+5),b=new DataView(g.buffer,g.byteOffset,g.byteLength),y=d(b);if(!c(this.buffer,this.position,5+y))return s;var v=p(this.buffer,this.position+5,this.position+5+y);if(this.position+=5+y,u(b))return s.push({chunkType:r.TRAILERS,trailers:(n=v,new o.Metadata(a(n)))}),s;s.push({chunkType:r.MESSAGE,data:v});}},e}();t.ChunkParser=f;},function(e,t,n){var r;Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e[e.OK=0]=\"OK\",e[e.Canceled=1]=\"Canceled\",e[e.Unknown=2]=\"Unknown\",e[e.InvalidArgument=3]=\"InvalidArgument\",e[e.DeadlineExceeded=4]=\"DeadlineExceeded\",e[e.NotFound=5]=\"NotFound\",e[e.AlreadyExists=6]=\"AlreadyExists\",e[e.PermissionDenied=7]=\"PermissionDenied\",e[e.ResourceExhausted=8]=\"ResourceExhausted\",e[e.FailedPrecondition=9]=\"FailedPrecondition\",e[e.Aborted=10]=\"Aborted\",e[e.OutOfRange=11]=\"OutOfRange\",e[e.Unimplemented=12]=\"Unimplemented\",e[e.Internal=13]=\"Internal\",e[e.Unavailable=14]=\"Unavailable\",e[e.DataLoss=15]=\"DataLoss\",e[e.Unauthenticated=16]=\"Unauthenticated\";}(r=t.Code||(t.Code={})),t.httpStatusToCode=function(e){switch(e){case 0:return r.Internal;case 200:return r.OK;case 400:return r.InvalidArgument;case 401:return r.Unauthenticated;case 403:return r.PermissionDenied;case 404:return r.NotFound;case 409:return r.Aborted;case 412:return r.FailedPrecondition;case 429:return r.ResourceExhausted;case 499:return r.Canceled;case 500:return r.Unknown;case 501:return r.Unimplemented;case 503:return r.Unavailable;case 504:return r.DeadlineExceeded;default:return r.Unknown}};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(4),o=n(5),s=n(7),i=n(13),a=n(8),u=n(6),d=n(10),c=n(14),p=n(16),f=n(3);!function(e){e.setDefaultTransport=o.setDefaultTransportFactory,e.CrossBrowserHttpTransport=u.CrossBrowserHttpTransport,e.FetchReadableStreamTransport=s.FetchReadableStreamTransport,e.XhrTransport=a.XhrTransport,e.WebsocketTransport=i.WebsocketTransport,e.Code=d.Code,e.Metadata=r.BrowserHeaders,e.client=function(e,t){return f.client(e,t)},e.invoke=c.invoke,e.unary=p.unary;}(t.grpc||(t.grpc={}));},function(e,t,n){var r;function o(){if(void 0!==r)return r;if(XMLHttpRequest){r=new XMLHttpRequest;try{r.open(\"GET\",\"https://localhost\");}catch(e){}}return r}function s(e){var t=o();if(!t)return !1;try{return t.responseType=e,t.responseType===e}catch(e){}return !1}Object.defineProperty(t,\"__esModule\",{value:!0}),t.xhrSupportsResponseType=s,t.detectMozXHRSupport=function(){return \"undefined\"!=typeof XMLHttpRequest&&s(\"moz-chunked-arraybuffer\")},t.detectXHROverrideMimeTypeSupport=function(){return \"undefined\"!=typeof XMLHttpRequest&&XMLHttpRequest.prototype.hasOwnProperty(\"overrideMimeType\")};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=n(1),s=n(2),i=n(9);!function(e){e[e.FINISH_SEND=1]=\"FINISH_SEND\";}(r||(r={}));var a=new Uint8Array([1]);t.WebsocketTransport=function(){return function(e){return function(e){e.debug&&o.debug(\"websocketRequest\",e);var t,n=function(e){if(\"https://\"===e.substr(0,8))return \"wss://\"+e.substr(8);if(\"http://\"===e.substr(0,7))return \"ws://\"+e.substr(7);throw new Error(\"Websocket transport constructed with non-https:// or http:// host.\")}(e.url),u=[];function d(e){if(e===r.FINISH_SEND)t.send(a);else {var n=e,o=new Int8Array(n.byteLength+1);o.set(new Uint8Array([0])),o.set(n,1),t.send(o);}}return {sendMessage:function(e){t&&t.readyState!==t.CONNECTING?d(e):u.push(e);},finishSend:function(){t&&t.readyState!==t.CONNECTING?d(r.FINISH_SEND):u.push(r.FINISH_SEND);},start:function(r){(t=new WebSocket(n,[\"grpc-websockets\"])).binaryType=\"arraybuffer\",t.onopen=function(){var n;e.debug&&o.debug(\"websocketRequest.onopen\"),t.send((n=\"\",r.forEach(function(e,t){n+=e+\": \"+t.join(\", \")+\"\\r\\n\";}),i.encodeASCII(n))),u.forEach(function(e){d(e);});},t.onclose=function(t){e.debug&&o.debug(\"websocketRequest.onclose\",t),s.default(function(){e.onEnd();});},t.onerror=function(t){e.debug&&o.debug(\"websocketRequest.onerror\",t);},t.onmessage=function(t){s.default(function(){e.onChunk(new Uint8Array(t.data));});};},cancel:function(){e.debug&&o.debug(\"websocket.abort\"),s.default(function(){t.close();});}}}(e)}};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(3);t.invoke=function(e,t){if(e.requestStream)throw new Error(\".invoke cannot be used with client-streaming methods. Use .client instead.\");var n=r.client(e,{host:t.host,transport:t.transport,debug:t.debug});return t.onHeaders&&n.onHeaders(t.onHeaders),t.onMessage&&n.onMessage(t.onMessage),t.onEnd&&n.onEnd(t.onEnd),n.start(t.metadata),n.send(t.request),n.finishSend(),{close:function(){n.close();}}};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.frameRequest=function(e){var t=e.serializeBinary(),n=new ArrayBuffer(t.byteLength+5);return new DataView(n,1,4).setUint32(0,t.length,!1),new Uint8Array(n,5).set(t),new Uint8Array(n)};},function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),o=n(3);t.unary=function(e,t){if(e.responseStream)throw new Error(\".unary cannot be used with server-streaming methods. Use .invoke or .client instead.\");if(e.requestStream)throw new Error(\".unary cannot be used with client-streaming methods. Use .client instead.\");var n=null,s=null,i=o.client(e,{host:t.host,transport:t.transport,debug:t.debug});return i.onHeaders(function(e){n=e;}),i.onMessage(function(e){s=e;}),i.onEnd(function(e,o,i){t.onEnd({status:e,statusMessage:o,headers:n||new r.Metadata,message:s,trailers:i});}),i.start(t.metadata),i.send(t.request),i.finishSend(),{close:function(){i.close();}}};}])});\n});\n\nvar commonjsGlobal$1 = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule$1(fn) {\n  var module = { exports: {} };\n\treturn fn(module, module.exports), module.exports;\n}\n\n// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null;\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket;\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket;\n} else if (typeof commonjsGlobal$1 !== 'undefined') {\n  ws = commonjsGlobal$1.WebSocket || commonjsGlobal$1.MozWebSocket;\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket;\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket;\n}\n\nvar browser = ws;\n\n/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n\nvar loglevel = createCommonjsModule$1(function (module) {\n(function (root, definition) {\n    if ( module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(commonjsGlobal$1, function () {\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n});\n\nconst { debug } = loglevel.getLogger('grpc-transport');\nconst isAllowedControlChars = (char) => char === 0x9 || char === 0xa || char === 0xd;\nfunction isValidHeaderAscii(val) {\n    return isAllowedControlChars(val) || (val >= 0x20 && val <= 0x7e);\n}\nfunction encodeASCII(input) {\n    const encoded = new Uint8Array(input.length);\n    for (let i = 0; i !== input.length; ++i) {\n        const charCode = input.charCodeAt(i);\n        if (!isValidHeaderAscii(charCode)) {\n            throw new Error('Metadata contains invalid ASCII');\n        }\n        encoded[i] = charCode;\n    }\n    return encoded;\n}\nvar WebsocketSignal;\n(function (WebsocketSignal) {\n    WebsocketSignal[WebsocketSignal[\"FINISH_SEND\"] = 1] = \"FINISH_SEND\";\n})(WebsocketSignal || (WebsocketSignal = {}));\nconst finishSendFrame = new Uint8Array([1]);\nfunction constructWebSocketAddress(url) {\n    if (url.substr(0, 8) === 'https://') {\n        return `wss://${url.substr(8)}`;\n    }\n    else if (url.substr(0, 7) === 'http://') {\n        return `ws://${url.substr(7)}`;\n    }\n    throw new Error('Websocket transport constructed with non-https:// or http:// host.');\n}\nfunction headersToBytes(headers) {\n    let asString = '';\n    headers.forEach((key, values) => {\n        asString += `${key}: ${values.join(', ')}\\r\\n`;\n    });\n    return encodeASCII(asString);\n}\nfunction websocketRequest(options) {\n    options.debug && debug('websocketRequest', options);\n    const webSocketAddress = constructWebSocketAddress(options.url);\n    const sendQueue = [];\n    let ws;\n    function sendToWebsocket(toSend) {\n        if (toSend === WebsocketSignal.FINISH_SEND) {\n            ws.send(finishSendFrame);\n        }\n        else {\n            const byteArray = toSend;\n            const c = new Int8Array(byteArray.byteLength + 1);\n            c.set(new Uint8Array([0]));\n            c.set(byteArray, 1);\n            ws.send(c);\n        }\n    }\n    return {\n        sendMessage: (msgBytes) => {\n            if (!ws || ws.readyState === ws.CONNECTING) {\n                sendQueue.push(msgBytes);\n            }\n            else {\n                sendToWebsocket(msgBytes);\n            }\n        },\n        finishSend: () => {\n            if (!ws || ws.readyState === ws.CONNECTING) {\n                sendQueue.push(WebsocketSignal.FINISH_SEND);\n            }\n            else {\n                sendToWebsocket(WebsocketSignal.FINISH_SEND);\n            }\n        },\n        start: (metadata) => {\n            ws = new browser(webSocketAddress, ['grpc-websockets']);\n            ws.binaryType = 'arraybuffer';\n            ws.onopen = function () {\n                options.debug && debug('websocketRequest.onopen');\n                ws.send(headersToBytes(metadata));\n                // send any messages that were passed to sendMessage before the connection was ready\n                sendQueue.forEach((toSend) => {\n                    sendToWebsocket(toSend);\n                });\n            };\n            ws.onclose = function (closeEvent) {\n                options.debug && debug('websocketRequest.onclose', closeEvent);\n                options.onEnd();\n            };\n            ws.onerror = function (error) {\n                options.debug && debug('websocketRequest.onerror', error);\n            };\n            ws.onmessage = function (e) {\n                options.onChunk(new Uint8Array(e.data));\n            };\n        },\n        cancel: () => {\n            options.debug && debug('websocket.abort');\n            ws.close();\n        },\n    };\n}\nfunction WebsocketTransport() {\n    return (opts) => {\n        return websocketRequest(opts);\n    };\n}\n\nclass GrpcConnection {\n    /**\n     * Creates a new gRPC client instance for accessing the Textile Buckets API.\n     * @param context The context to use for interacting with the APIs. Can be modified later.\n     */\n    constructor(context = new Context(), debug = false) {\n        this.context = context;\n        const transport = WebsocketTransport(); // Default to websocket always\n        this.serviceHost = context.host;\n        this.rpcOptions = {\n            transport,\n            debug,\n        };\n        // Set default transport to websocket \"globally\"\n        grpcWebClient_umd.grpc.setDefaultTransport(transport);\n    }\n    unary(methodDescriptor, req, ctx) {\n        return new Promise((resolve, reject) => {\n            const metadata = ctx ? Object.assign({}, ctx.toJSON()) : Object.assign({}, this.context.toJSON());\n            grpcWebClient_umd.grpc.unary(methodDescriptor, {\n                request: req,\n                host: this.serviceHost,\n                transport: this.rpcOptions.transport,\n                debug: this.rpcOptions.debug,\n                metadata,\n                onEnd: (res) => {\n                    const { status, statusMessage, message } = res;\n                    if (status === grpcWebClient_umd.grpc.Code.OK) {\n                        resolve(message);\n                    }\n                    else {\n                        const err = {\n                            message: statusMessage,\n                            code: status,\n                            metadata,\n                        };\n                        reject(err);\n                    }\n                },\n            });\n        });\n    }\n}\n\nexport { GrpcConnection };\n"]},"metadata":{},"sourceType":"module"}