{"ast":null,"code":"'use strict'; // OP_0 [signatures ...]\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nconst bscript = require('../../script');\n\nconst script_1 = require('../../script');\n\nfunction partialSignature(value) {\n  return value === script_1.OPS.OP_0 || bscript.isCanonicalScriptSignature(value);\n}\n\nfunction check(script, allowIncomplete) {\n  const chunks = bscript.decompile(script);\n  if (chunks.length < 2) return false;\n  if (chunks[0] !== script_1.OPS.OP_0) return false;\n\n  if (allowIncomplete) {\n    return chunks.slice(1).every(partialSignature);\n  }\n\n  return chunks.slice(1).every(bscript.isCanonicalScriptSignature);\n}\n\nexports.check = check;\n\ncheck.toJSON = () => {\n  return 'multisig input';\n};","map":{"version":3,"sources":["/Users/wiki/code/filecoin/private.storage/node_modules/bitcoinjs-lib/src/templates/multisig/input.js"],"names":["Object","defineProperty","exports","value","bscript","require","script_1","partialSignature","OPS","OP_0","isCanonicalScriptSignature","check","script","allowIncomplete","chunks","decompile","length","slice","every","toJSON"],"mappings":"AAAA,a,CACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,cAAD,CAAvB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,cAAD,CAAxB;;AACA,SAASE,gBAAT,CAA0BJ,KAA1B,EAAiC;AAC/B,SACEA,KAAK,KAAKG,QAAQ,CAACE,GAAT,CAAaC,IAAvB,IAA+BL,OAAO,CAACM,0BAAR,CAAmCP,KAAnC,CADjC;AAGD;;AACD,SAASQ,KAAT,CAAeC,MAAf,EAAuBC,eAAvB,EAAwC;AACtC,QAAMC,MAAM,GAAGV,OAAO,CAACW,SAAR,CAAkBH,MAAlB,CAAf;AACA,MAAIE,MAAM,CAACE,MAAP,GAAgB,CAApB,EAAuB,OAAO,KAAP;AACvB,MAAIF,MAAM,CAAC,CAAD,CAAN,KAAcR,QAAQ,CAACE,GAAT,CAAaC,IAA/B,EAAqC,OAAO,KAAP;;AACrC,MAAII,eAAJ,EAAqB;AACnB,WAAOC,MAAM,CAACG,KAAP,CAAa,CAAb,EAAgBC,KAAhB,CAAsBX,gBAAtB,CAAP;AACD;;AACD,SAAOO,MAAM,CAACG,KAAP,CAAa,CAAb,EAAgBC,KAAhB,CAAsBd,OAAO,CAACM,0BAA9B,CAAP;AACD;;AACDR,OAAO,CAACS,KAAR,GAAgBA,KAAhB;;AACAA,KAAK,CAACQ,MAAN,GAAe,MAAM;AACnB,SAAO,gBAAP;AACD,CAFD","sourcesContent":["'use strict';\n// OP_0 [signatures ...]\nObject.defineProperty(exports, '__esModule', { value: true });\nconst bscript = require('../../script');\nconst script_1 = require('../../script');\nfunction partialSignature(value) {\n  return (\n    value === script_1.OPS.OP_0 || bscript.isCanonicalScriptSignature(value)\n  );\n}\nfunction check(script, allowIncomplete) {\n  const chunks = bscript.decompile(script);\n  if (chunks.length < 2) return false;\n  if (chunks[0] !== script_1.OPS.OP_0) return false;\n  if (allowIncomplete) {\n    return chunks.slice(1).every(partialSignature);\n  }\n  return chunks.slice(1).every(bscript.isCanonicalScriptSignature);\n}\nexports.check = check;\ncheck.toJSON = () => {\n  return 'multisig input';\n};\n"]},"metadata":{},"sourceType":"script"}